import{m as R,n as u,o as k,E as D,H,q as L,v as O,w as Y,x as h,y as v,z as I,A as E,U as o,B as g,C as B,D as C,b as U,F as w,S as z}from"./BE-jNo8g.js";function P(a,t,[r,i]=[0,0]){u&&r===0&&k();var f=a,s=null,c=null,n=o,p=r>0?D:0,e=!1;const q=(T,l=!0)=>{e=!0,S(l,T)},S=(T,l)=>{if(n===(n=T))return;let b=!1;if(u&&i!==-1){if(r===0){const A=f.data;A===H?i=0:A===L?i=1/0:(i=parseInt(A.substring(1)),i!==i&&(i=n?1/0:-1))}const F=i>r;!!n===F&&(f=O(),Y(f),h(!1),b=!0,i=-1)}n?(s?v(s):l&&(s=I(()=>l(f))),c&&E(c,()=>{c=null})):(c?v(c):l&&(c=I(()=>l(f,[r+1,i]))),s&&E(s,()=>{s=null})),b&&h(!0)};R(()=>{e=!1,t(q),e||S(null,null)},p),u&&(f=g)}function Z(a,t,r){u&&k();var i=a,f,s;R(()=>{f!==(f=t())&&(s&&(E(s),s=null),f&&(s=I(()=>r(i,f))))},D),u&&(i=g)}function N(a,t){return a===t||(a==null?void 0:a[z])===t}function j(a={},t,r,i){return B(()=>{var f,s;return C(()=>{f=s,s=[],U(()=>{a!==r(...s)&&(t(a,...s),f&&N(r(...f),a)&&t(null,...f))})}),()=>{w(()=>{s&&N(r(...s),a)&&t(null,...s)})}}),a}export{j as b,Z as c,P as i};
